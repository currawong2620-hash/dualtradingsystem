## üìò ROADMAP ‚Äî Dual-Mode Forex Trading System (v1.2)

### üèÅ Phase 1 ‚Äî Core Architecture (**v1.2 Baseline**)

**–¶–µ–ª—å:** –∑–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–æ–π—á–∏–≤–æ–µ —è–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ –ø–∏—Ä–∞–º–∏–¥–∏–Ω–≥–∞ –∏ –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏**

* [x] –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (`src/`, `docs/`, `tests/`).
* [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `TFContext.mqh` ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã ADX, ATR, STD, EMA, BB, RSI.
* [x] –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ `Forecast.mqh` ‚Äî —Ä–∞—Å—á—ë—Ç bias, Œº, œÉ, confidence.
* [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è FSM (`ModeAnalyzer.mqh`): TREND / RANGE / TRANSITION, hysteresis.
* [ ] –ú–æ–¥—É–ª–∏ `TrendEngine.mqh` –∏ `RangeEngine.mqh` (–±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞).
* [ ] `TradeManager.mqh` ‚Äî –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ, SL/TP, —Ä–∏—Å–∫ ‚â§1 % / 0.5 %.
* [ ] `Panel_Main.mqh` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞, confidence, equity, DD.
* [ ] –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –≤ —Ç–µ—Å—Ç–µ—Ä–µ MT5 –Ω–∞ –¥–∞–Ω–Ω—ã—Ö 2020‚Äì2021.

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**

* PF ‚â• 1.3
* Max DD ‚â§ 20 %
* –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞ ‚â• 80 % —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π —Å —ç—Ç–∞–ª–æ–Ω–Ω–æ–π —Ä–∞–∑–º–µ—Ç–∫–æ–π.

---

### ‚öôÔ∏è Phase 2 ‚Äî Risk & Stats (**v1.2.1**)

**–¶–µ–ª—å:** –≤–≤–µ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–æ–º –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ä–µ–∂–∏–º–∞–º.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏**

* [ ] –†–∞–∑–¥–µ–ª–∏—Ç—å Risk Pools (Trend 60 % / Range 40 %).
* [ ] –í–Ω–µ–¥—Ä–∏—Ç—å –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç 2.5 % –∏ –∞–≤—Ç–æ-–æ—Å—Ç–∞–Ω–æ–≤–∫—É –ø—Ä–∏ DD > 20 %.
* [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `Stats.mqh` ‚Äî PF, Sharpe, avg R, win rate –ø–æ —Ä–µ–∂–∏–º–∞–º.
* [ ] –î–æ–±–∞–≤–∏—Ç—å CSV-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å –º–µ—Ç—Ä–∏–∫.
* [ ] –í—Å—Ç—Ä–æ–∏—Ç—å –º–æ–¥–µ–ª—å slippage (Œº = 1 pip, œÉ = 0.5).

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**

* PF_trend ‚â• 1.5; PF_range ‚â• 1.25
* Sharpe ‚â• 0.8
* –î–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏ –≤–Ω–µ —Ç–æ—Ä–≥–æ–≤–ª–∏ (TRANSITION) ‚âà 10‚Äì20 %.

---

### üíπ Phase 3 ‚Äî Optional Features & Experiments (**v1.2.2**)

**–¶–µ–ª—å:** –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–µ–∑ —É—â–µ—Ä–±–∞ –¥–ª—è —è–¥—Ä–∞.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏**

* [ ] –î–æ–±–∞–≤–∏—Ç—å –º–æ–¥—É–ª—å –ø–∏—Ä–∞–º–∏–¥–∏–Ω–≥–∞ (–ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∏–∑ v1.2 –¢–ó).
* [ ] –§—É–Ω–∫—Ü–∏—è `CalcCumulativeExposure()` –≤ TradeManager.
* [ ] –í–≤–µ—Å—Ç–∏ –∑–∞—â–∏—Ç—É cumulative risk ‚â§ 2 % –∏ –∞–≤—Ç–æ-off –ø—Ä–∏ DD > 10 %.
* [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±—ç–∫—Ç–µ—Å—Ç—ã (2015‚Äì2025): —Å –∏ –±–µ–∑ –ø–∏—Ä–∞–º–∏–¥–∏–Ω–≥–∞.
* [ ] –û–±–Ω–æ–≤–∏—Ç—å Stats –¥–ª—è —É—á—ë—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–π.

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**

* PF_total ‚â• 1.35
* Max DD ‚â§ 25 % (–ø—Ä–∏ –ø–∏—Ä–∞–º–∏–¥–∏–Ω–≥–µ)
* Profit gain ‚â• 10 % –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ DD ‚â§ 5 %.

---

### üì∞ Phase 4 ‚Äî Extensions (**v1.3+**)

**–¶–µ–ª—å:** —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏**

* [ ] –ù–æ–≤–æ—Å—Ç–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä (core) ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è MQL5 Calendar –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–≥–æ API.
* [ ] Multi-symbol portfolio ‚Äî –æ–±—â–∏–π —Ä–∏—Å–∫-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä.
* [ ] Monte-Carlo —Å–∏–º—É–ª—è—Ç–æ—Ä (Python —Å–∫—Ä–∏–ø—Ç –≤ /tests).
* [ ] Self-Optimization –ø–æ Œº ¬± œÉ –ø—Ä–æ—Ñ–∏–ª—è–º.
* [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `/docs/architecture-diagram.png`, UML-—Å—Ö–µ–º—ã.

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**

* PF_total ‚â• 1.4
* DD ‚â§ 18 % –Ω–∞ –ø–µ—Ä–∏–æ–¥–µ 5 –ª–µ—Ç
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑ —Ä—É—á–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

---

### üîÆ Phase 5 ‚Äî Future Research (**v2.0**)

**–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

* ML ModeAnalyzer (SVM / Random Forest / Bayesian Regime Detection)
* Reinforcement learning –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—ä—ë–º–æ–º.
* –û–±–ª–∞—á–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≤–µ–±-–ø–∞–Ω–µ–ª—å (REST API ‚Üí Grafana dashboard).

---

### üìÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏

| –≠—Ç–∞–ø                     | –¶–µ–ª—å                              | ETA           |
| ------------------------ | --------------------------------- | ------------- |
| Core EA Compile-Ready    | –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ –±–µ–∑ –æ—à–∏–±–æ–∫          | **2 –Ω–µ–¥–µ–ª–∏**  |
| First Backtest 2015‚Äì2020 | PF‚â•1.3 DD‚â§20 %                    | **3 –Ω–µ–¥–µ–ª–∏**  |
| Stats & Risk Completed   | –ü–æ–ª–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –ø–æ —Ä–µ–∂–∏–º–∞–º      | **5 –Ω–µ–¥–µ–ª—å**  |
| Pyramiding Trial         | –û—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑ | **7 –Ω–µ–¥–µ–ª—å**  |
| News Filter & Docs       | v1.3 Stable                       | **‚âà Q1 2026** |

---
–û—Ç–ª–∏—á–Ω–æ üëå
–í–æ—Ç –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —Ç–≤–æ–µ–º—É `ROADMAP.md` ‚Äî **—Ç–∞–±–ª–∏—Ü–∞ —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**, –≤—ã—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º –∏ –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
–≠—Ç–æ—Ç –±–ª–æ–∫ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü roadmap –ø–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `### üìÇ Module Development Priorities`.

---

### üìÇ Module Development Priorities

| ‚Ññ  | –ú–æ–¥—É–ª—å                                                | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏               | –¶–µ–ª—å / –§—É–Ω–∫—Ü–∏—è                                                                                                | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç                      | –°—Ç–∞—Ç—É—Å |
| -- | ----------------------------------------------------- | ------------------------- | ------------------------------------------------------------------------------------------------------------- | ------------------------------ | ------ |
| 1  | **TFContext.mqh**                                     | ‚Äî                         | –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (ADX, ATR, STD, EMA, BB, RSI). –°–æ–∑–¥–∞—ë—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π. | üü© –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π (–Ω–∞—á–∞—Ç—å –ø–µ—Ä–≤—ã–º) | ‚òê      |
| 2  | **Forecast.mqh**                                      | TFContext                 | –†–∞—Å—á—ë—Ç bias, Œº, œÉ, confidence, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –ø–æ—Ä–æ–≥–æ–≤. –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–ª–æ–π.                              | üü© –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π                 | ‚òê      |
| 3  | **ModeAnalyzer.mqh**                                  | Forecast                  | FSM: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ (TREND/RANGE/TRANSITION) –∏ –≥–∏—Å—Ç–µ—Ä–µ–∑–∏—Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π.                                   | üü© –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π                 | ‚òê      |
| 4  | **TrendEngine.mqh**                                   | ModeAnalyzer              | –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ç—Ä–µ–Ω–¥–∞: –≤—Ö–æ–¥—ã –ø–æ breakout, ATR SL/TP, —Ñ–∏–ª—å—Ç—Ä—ã.                                            | üü® –í—ã—Å–æ–∫–∏–π                     | ‚òê      |
| 5  | **RangeEngine.mqh**                                   | ModeAnalyzer              | –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ñ–ª—ç—Ç–∞: –≤–æ–∑–≤—Ä–∞—Ç –∫ —Å—Ä–µ–¥–Ω–µ–º—É, RSI/BB —Ñ–∏–ª—å—Ç—Ä—ã.                                                | üü® –í—ã—Å–æ–∫–∏–π                     | ‚òê      |
| 6  | **TradeManager.mqh**                                  | Engines                   | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞–º–∏, —Ä–∞—Å—á—ë—Ç –ª–æ—Ç–∞, SL/TP, error-handling, —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è.                                          | üü© –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π                 | ‚òê      |
| 7  | **Trade_Simulator.mqh**                               | TradeManager              | –≠–º—É–ª—è—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, —Å–ø—Ä–µ–¥, –∫–æ–º–∏—Å—Å–∏—è, slippage.                                                               | üüß –°—Ä–µ–¥–Ω–∏–π                     | ‚òê      |
| 8  | **Stats.mqh**                                         | TradeManager              | PF, Sharpe, avg R, win rate –ø–æ —Ä–µ–∂–∏–º–∞–º. –ó–∞–ø–∏—Å—å –æ—Ç—á—ë—Ç–æ–≤ –≤ CSV.                                                 | üüß –°—Ä–µ–¥–Ω–∏–π                     | ‚òê      |
| 9  | **Panel_Main.mqh**                                    | ModeAnalyzer, Stats       | –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º, confidence, equity, DD.                                               | üü¶ –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π              | ‚òê      |
| 10 | **Logging.mqh**                                       | –í—Å–µ                       | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —É—Ä–æ–≤–Ω–µ–º –≤–∞–∂–Ω–æ—Å—Ç–∏.                                                                 | üüß –°—Ä–µ–¥–Ω–∏–π                     | ‚òê      |
| 11 | **Risk_Pools.mqh** *(–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–æ–¥—É–ª—å TradeManager)* | TradeManager              | –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–∞ Trend/Range, –ª–∏–º–∏—Ç—ã DD –∏ –¥–Ω–µ–≤–Ω–æ–≥–æ —Ä–∏—Å–∫–∞.                                                  | üüß –°—Ä–µ–¥–Ω–∏–π                     | ‚òê      |
| 12 | **Pyramiding.mqh** *(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)*                    | TradeManager, TrendEngine | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –ø—Ä–∏ profit > MinProfitForAdd; –¥–µ—Ñ–æ–ª—Ç off.                                                  | üü¶ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π           | ‚òê      |
| 13 | **NewsFilter.mqh** *(core extension)*                 | ModeAnalyzer              | –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ —Ç–æ—Ä–≥–æ–≤ –ø—Ä–æ—Ç–∏–≤ high-impact —Å–æ–±—ã—Ç–∏–π.                                                           | üü¶ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π                  | ‚òê      |
| 14 | **Stats_Visualizer.mqh** *(UI)*                       | Stats                     | –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –æ–∫–Ω–æ —Å PF –∏ DD –ø–æ —Ä–µ–∂–∏–º–∞–º.                                                                        | üü¶ –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π                  | ‚òê      |

---

### üîÅ Suggested Development Sequence

1. üß± **Core foundation:** `TFContext` ‚Üí `Forecast` ‚Üí `ModeAnalyzer`
2. ‚öôÔ∏è **Trade logic:** `TrendEngine`, `RangeEngine`, `TradeManager`
3. üíæ **Risk & Diagnostics:** `Trade_Simulator`, `Stats`, `Logging`
4. üñ•Ô∏è **Interface:** `Panel_Main`, `Stats_Visualizer`
5. üß© **Experiments:** `Pyramiding`, `NewsFilter`

---

### üß† Engineering Notes

* –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–æ —Å—Ç–∞–¥–∏–∏ `#include` –≤ –æ—Å–Ω–æ–≤–Ω–æ–π EA.
* –¶–∏–∫–ª —Å–±–æ—Ä–∫–∏: **–∫–æ–º–ø–∏–ª—è—Ü–∏—è ‚Üí —é–Ω–∏—Ç-—Ç–µ—Å—Ç ‚Üí –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (–ø–æ —Ñ–∞–∑–∞–º roadmap).
* –ü–æ—Å–ª–µ Phase 2 ‚Äî freeze —è–¥—Ä–∞ (`TFContext`, `Forecast`, `ModeAnalyzer`, `TradeManager`) –¥–æ –∫–æ–Ω—Ü–∞ —Ç–µ—Å—Ç–æ–≤.
* –í—Å–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (`Pyramiding`, `NewsFilter`) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞ `#ifdef` —Ñ–ª–∞–≥–∞–º–∏, —á—Ç–æ–±—ã –Ω–µ –≤–ª–∏—è—Ç—å –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ç–∫—É.
