# üßë‚Äçüíª Developer Guide ‚Äî Dual-Mode Forex Trading System

## 1Ô∏è‚É£  –¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞

–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—ã–ø—É—Å–∫–∞ –≤–µ—Ä—Å–∏–π **Dual-Mode Forex System (DMFS)**.
–û–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∫–æ–¥–∞ –Ω–∞ **MQL5 / MetaTrader 5**.

---

## 2Ô∏è‚É£  –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ Git

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏

| –í–µ—Ç–∫–∞         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                       |
| ------------- | ---------------------------------------------------------------- |
| **main**      | —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è EA, –ø—Ä–æ—à–µ–¥—à–∞—è —Ç–µ—Å—Ç—ã –∏ review                   |
| **develop**   | –∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞; –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–∏—á –∏ —Ñ–∏–∫—Å–æ–≤                     |
| **feature/*** | –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏ (e.g. `feature/pyramiding`, `feature/newsfilter`) |
| **hotfix/***  | —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ –≤ —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Ä–µ–ª–∏–∑–∞—Ö                |
| **docs**      | –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (markdown, —Å—Ö–µ–º—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤)                |

### Workflow

1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–∑–¥–∞—ë—Ç –≤–µ—Ç–∫—É –∏–∑ `develop`:
   `git checkout -b feature/ModuleName`
2. –í–Ω–æ—Å–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –ø–∏—à–µ—Ç –∫–æ–º–º–∏—Ç—ã –ø–æ —Ñ–æ—Ä–º–∞—Ç—É (—Å–º. –Ω–∏–∂–µ).
3. –î–µ–ª–∞–µ—Ç pull request ‚Üí code review ‚Üí merge –≤ `develop`.
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö CI-—Ç–µ—Å—Ç–æ–≤ ‚Äî merge `develop` ‚Üí `main`.

---

## 3Ô∏è‚É£  –°—Ç–∏–ª—å –∫–æ–º–º–∏—Ç–æ–≤

**–§–æ—Ä–º–∞—Ç:**

```
[type]: [scope] ‚Äì [short description]
```

**–ü—Ä–∏–º–µ—Ä—ã:**

```
feat: ModeAnalyzer ‚Äì –¥–æ–±–∞–≤–ª–µ–Ω hysteresis debounce
fix: TradeManager ‚Äì –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–∞–≤–∏—Å–∞–Ω–∏–µ CopyBuffer
refactor: Forecast ‚Äì –≤—ã–Ω–µ—Å–µ–Ω–æ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ œÉ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
docs: –æ–±–Ω–æ–≤–ª—ë–Ω TECH_SPEC –¥–æ v1.2
```

**–¢–∏–ø—ã:**

* `feat` ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
* `fix` ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
* `refactor` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –±–µ–∑ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
* `perf` ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
* `test` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã
* `docs` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## 4Ô∏è‚É£  CI/CD Pipeline (GitHub Actions)

### –¶–µ–ª—å

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `.mq5` —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `develop` –∏ `main`.

### –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏

1. **Build EA:**
   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MetaEditor CLI (`MetaEditor64.exe /compile:src/main/DualModeEA.mq5 /log`)
   –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `/build/logs/`.
2. **Unit Tests:**
   –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —á–µ—Ä–µ–∑ `MetaTester64.exe` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏–∑ `/tests/backtest-configs/`.
3. **Metrics Check:**
   –°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç: PF, DD, Sharpe ‚Üí —Å–≤–µ—Ä—è–µ—Ç —Å —Ü–µ–ª–µ–≤—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏.
4. **Report Upload:**
   –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ `/tests/reports/` –∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –∫ PR.

---

## 5Ô∏è‚É£  –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

* **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** MetaTrader 5 build ‚â• 3900
* **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** `MQL5/Experts/DualMode/`
* **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ:** Dukascopy ticks 2015‚Äì2025

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

1. –û—Ç–∫—Ä—ã—Ç—å **Strategy Tester ‚Üí DualModeEA.mq5**.
2. –í—ã–±—Ä–∞—Ç—å —Å–∏–º–≤–æ–ª (e.g. EURUSD) –∏ TF (M5).
3. –ó–∞–¥–∞—Ç—å –ø–µ—Ä–∏–æ–¥ –∏ –º–æ–¥–µ–ª—å ‚ÄúEvery tick based on real ticks‚Äù.
4. –í–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (`Experts ‚Üí Allow log`).
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á—ë—Ç `/tester/logs/` –∏ `/tests/reports/`.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Out-of-Sample

* –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞: 2020‚Äì2021
* –¢–µ—Å—Ç: 2022‚Äì2023
* –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å: CAR/MDD ‚â• 1.5 –∏ PF ‚â• 1.2

---

## 6Ô∏è‚É£  –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∞

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è               | –ü—Ä–∞–≤–∏–ª–æ                                                                                                     |
| ----------------------- | ----------------------------------------------------------------------------------------------------------- |
| **–°—Ç–∏–ª—å**               | UpperCamelCase –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, lower_case –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö                                                       |
| **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**         | –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ `//+------------------------------------------------------------------+` |
| **–ú–∞–∫—Ä–æ—Å—ã**             | —Ç–æ–ª—å–∫–æ –≤ `Config.mqh`                                                                                       |
| **–û—à–∏–±–∫–∏**              | –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π `CopyBuffer`, `OrderSend`, `OrderClose`                         |
| **–õ–æ–≥–∏–∫–∞ FSM**          | –ø–µ—Ä–µ—Ö–æ–¥—ã —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `TRANSITION`                                                                          |
| **–§–ª–∞–≥–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤** | –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ `#ifdef EXPERIMENTAL`                                                                         |
| **–ñ—É—Ä–Ω–∞–ª**              | –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –ø–∏—à—É—Ç—Å—è –≤ `Logging.mqh` —Å —Ç–∞–π–º—à—Ç–∞–º–ø–æ–º –∏ —Ç–∏–ø–æ–º —É—Ä–æ–≤–Ω—è (INFO/WARN/ERR)                            |

---

## 7Ô∏è‚É£  –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç—á—ë—Ç—ã

| –ö–∞—Ç–∞–ª–æ–≥                    | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ                                           |
| -------------------------- | ---------------------------------------------------- |
| `/tests/backtest-configs/` | .ini —Ñ–∞–π–ª—ã –¥–ª—è MT5 —Ç–µ—Å—Ç–µ—Ä–∞                           |
| `/tests/reports/`          | HTML/CSV –æ—Ç—á—ë—Ç—ã –ø–æ —Ç–µ—Å—Ç–∞–º                            |
| `/tests/scripts/`          | –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ Python-—Å–∫—Ä–∏–ø—Ç—ã (Monte-Carlo, –∞–Ω–∞–ª–∏–∑) |

–ö–∞–∂–¥—ã–π –æ—Ç—á—ë—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

* PF, Sharpe, Max DD, CAR/MDD
* –≥—Ä–∞—Ñ–∏–∫ equity
* –¥–æ–ª—é –≤—Ä–µ–º–µ–Ω–∏ –ø–æ —Ä–µ–∂–∏–º–∞–º (Trend / Range / Transition)

---

## 8Ô∏è‚É£  –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Semantic Versioning**:

| –í–µ—Ä—Å–∏—è   | –ó–Ω–∞—á–µ–Ω–∏–µ                                                      |
| -------- | ------------------------------------------------------------- |
| `v1.x`   | —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ä–µ–ª–∏–∑—ã —è–¥—Ä–∞ EA                                     |
| `v1.x.y` | –º–∏–Ω–æ—Ä–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è / –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏                            |
| `v2.x`   | –º–∞–∂–æ—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–Ω–æ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–¥–µ–∏: ML, portfolio) |

–ö–∞–∂–¥—ã–π —Ä–µ–ª–∏–∑ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è `CHANGELOG.md` —Å —Ç–µ–≥–æ–º –∏ –¥–∞—Ç–æ–π.

---

## 9Ô∏è‚É£  Workflow —Å–ø—Ä–∏–Ω—Ç–æ–≤

1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É `sprint-N` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `sprint-3`).
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á–∏ –∏–∑ `ROADMAP.md` —Ç–µ–∫—É—â–µ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞.
3. –ü–æ—Å–ª–µ CI-—É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ ‚Üí merge –≤ `develop`.
4. –ü—Ä–æ–≤–µ—Å—Ç–∏ internal review (–∫–æ–¥ + –æ—Ç—á—ë—Ç).
5. –û–±–Ω–æ–≤–∏—Ç—å `ROADMAP` –∏ `CHANGELOG`.

---

## üîü  –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –û–±–ª–∞—Å—Ç—å          | –†–∏—Å–∫                           | –ú–µ—Ä—ã                                                    |
| ---------------- | ------------------------------ | ------------------------------------------------------- |
| **FSM**          | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Ä–µ–∂–∏–º–æ–≤  | –ù–∞–±–ª—é–¥–∞—Ç—å –ª–æ–≥–∏; –≤ —Ç–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –ø–∞–Ω–µ–ª—å |
| **TradeManager** | –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ—Ä–¥–µ—Ä–∞      | –ü—Ä–æ–≤–µ—Ä—è—Ç—å ticket ID –∏ –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏            |
| **CI/CD**        | –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ MetaEditor | –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—É—Ç–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞                          |
| **Backtest**     | –ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ                | –û–±–Ω–æ–≤–ª—è—Ç—å Dukascopy ticks –µ–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ                 |

---

## üß©  –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

* **–ì–ª–∞–≤–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `github.com/dualmode-forex/system`
* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `/docs/`
* **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ CI/CD:** *build-maintainer*
* **–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤:** *core-lead developer (–≤–∞—à –Ω–∏–∫)*

---

üìÑ **–í–µ—Ä—Å–∏—è:** `README_Dev.md v1.0`
üìÖ **–î–∞—Ç–∞:** 2025-11-12
¬© Dual-Mode Forex Project ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
